name: Python Linting and Formatting with uv

on:
  push:
   branches: [ "main" ]
  pull_request: 
   branches: [ "main" ]

jobs:
  lint:
    runs-on: ubuntu-latest

    steps:
     - name: Checkout code
       uses: actions/checkout@v4

     - name: Install uv
       uses: astral-sh/setup-uv@v5
       with:
         enable-cache: true

     - name: Setup Python
       run: |
         uv python install 3.10

     - name: Install linting tools
       run: |
         uv tool install black
         uv tool install isort
         uv tool install flake8

     - name: Run Linters
       run: |
         uv run flake8 .
         uv run isort --check-only .